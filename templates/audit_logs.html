{% extends "base.html" %}
{% block content %}

<div class="dashboard">

  <div class="dashboard-header">
    <div>
      <h1>Audit Logs</h1>
      <p class="welcome-text">
        {% if role == 'admin' %}
          System-wide security audit trail
        {% else %}
          Actions performed by your application
        {% endif %}
      </p>
    </div>

    {% if role == 'admin' %}
      <span class="role-badge admin">Administrator</span>
    {% else %}
      <span class="role-badge app">Application</span>
    {% endif %}
  </div>

  <div class="section">
    <div class="dashboard-card" style="overflow-x:auto">

      <table class="consent-table">
        <thead>
          <tr>
            {% if role == 'admin' %}
              <th>Actor</th>
            {% endif %}
            <th>Action</th>
            <th>Timestamp</th>
          </tr>
        </thead>
        <tbody>

          {% for log in logs %}
          <tr>
            {% if role == 'admin' %}
              <td>{{ log.username }}</td>
            {% endif %}
            <td>{{ log.action }}</td>
            <td>{{ log.timestamp }}</td>
          </tr>
          {% endfor %}

        </tbody>
      </table>

    </div>
  </div>

</div>

{% endblock %}